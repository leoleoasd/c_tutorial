# 指针, 数组, 指针数组, 和数组指针

这里, 更多的并不是教给大家什么是数组, 什么是指针数组. 更多的, 是教给大家理解数组和指针的本质.

### 指针

详见这里

### 数组

#### 一维数组

##### 定义:
```cpp
元素类型 数字名称[数组大小];
```

##### 使用:
对于定义如下的一个数组:
```cpp
int data[10] = {0};
```

##### 使用元素:

```cpp
data[i] = 1;
```

##### 使用名字:
data 是 数组"首元素"的指针
```cpp
printf("%p", data);
printf("%p", &data[0]);
```

注意, data是"右值", 不可赋值.

~~不知道右值是啥的快去看上一篇推送~~

##### 地址运算:
```data + 1```在数值上等于`data`的值+4. (int占4个字节)

复习: 指针+1, 实际指向的地址加了sizeof(指向的类型).

#### 二维数组

二维数组就是"数组的数组". 如何理解这一点呢?

##### 二维数组的定义:
```cpp
int data[5][10];
```
上述代码定义了一个数组, 这个数组的元素是"10个int类型构成的数组". 如何理解? 数组定义的阅读要"从里向外阅读". 例如:

int **data[5]**[10];

定义一个数组, 名字叫data, 大小为5

**int** data[5]**[10]**;

数组的元素是`int [10]`, 也就是大小为10的int数组.

> 数据类型: 如果不好理解 int [10] 是一个类型, 只需要记住 去掉定义变量时候的变量名字, 剩下的东西就是一个类型. 如:
> 对于 int data[10] 去掉data 剩下的部分 int [10] 就是变量类型.
> 同理, 下面要讲到的 int (*)[10][10] 也是变量类型

二维数组元素的使用和一位数组基本相同, 这里不再赘述.

##### 二维数组的地址的使用: 

小问答: 对于定义如下的数组:

```cpp
int data[10][20] = {0};
```

data+1的地址数值上等于多少?

```cpp
A. data + 4(数值上)
B. data + 40(数值上)
C. data + 80(数值上)

左滑查看答案 ----------------------------------------> 由于data是"元素为int [20]"的数组, 所以`sizeof(data的元素)`是 `20*4 = 80`, 所以data+1的地址数值上等于`data + 80`.
```

复习: 对于如上定义, data的元素的类型为"int [20]". 实际上, 如果通过下标计算地址, 应该如下计算:

```
data[i][j] == *(data + i) + j;
```

如何理解上面的代码? *(data + i) 的类型又是什么?

```cpp
左滑查看答案 ----------------------------------------> data的元素为 int[20], 因此 *(data + i) 是 data数组的第i个元素, 也就是第i个大小为20的int数组.
左滑查看答案 ----------------------------------------> data[i][j] 是data中的第i个元素的第j个元素. (data的第i个元素是一个一维数组.)
```

(复习: *运算符是"根据地址取所在那个地址的元素")

通过上面的练习, 相信大家也理解了"二维数组就是元素是数组的数组". 

这样子, 也就很容易能理解为什么二维数组作为参数要传入"第二维"的大小了. 对于以下代码:

```cpp
int func1(int data[]){
这个函数的参数data是一个数组, 元素是int
并不需要知道数组的大小
}
int func2(int data[][20]){
这个函数的参数data是一个数组, 元素是 int[20]
因为需要知道元素的类型, 因此必须知道数组第二维的大小.
}
```

#### 多维数组

多维数组的理解和二维数组相同, 比如三维数组是"元素为二位数与的数组". 因为并不常用, 因此不再赘述.